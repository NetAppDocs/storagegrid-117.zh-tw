---
permalink: admin/what-storage-node-is.html 
sidebar: sidebar 
keywords: what is a storage node, how many storage nodes 
summary: 儲存節點可管理及儲存物件資料和中繼資料。每StorageGRID 個支援區系統必須至少有三個儲存節點。如果您有多個站台、StorageGRID 那麼您的一套系統中的每個站台也必須有三個儲存節點。 
---
= 什麼是儲存節點？
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
儲存節點可管理及儲存物件資料和中繼資料。每StorageGRID 個支援區系統必須至少有三個儲存節點。如果您有多個站台、StorageGRID 那麼您的一套系統中的每個站台也必須有三個儲存節點。

儲存節點包含在磁碟上儲存、移動、驗證及擷取物件資料和中繼資料所需的服務和程序。您可以在「*節點*」頁面上檢視儲存節點的詳細資訊。



== 什麼是ADC服務？

管理網域控制器（ADC）服務會驗證網格節點及其彼此的連線。每個站台的前三個儲存節點都會裝載此ADC服務。

ADC服務負責維護拓撲資訊、包括服務的位置和可用度。當網格節點需要來自另一個網格節點的資訊、或是由另一個網格節點執行的動作時、它會聯絡某個ADC服務、以尋找處理其要求的最佳網格節點。此外、ADC服務會保留StorageGRID 一份支援所有網格節點的更新組態套裝組合、以便擷取目前的組態資訊。您可以在Grid拓撲頁面（*支援*>*網格拓撲*）上檢視儲存節點的ADC資訊。

為了方便分散式和分散式作業、每個ADC服務都會將憑證、組態套件、服務和拓撲的相關資訊、與StorageGRID 其他的子系統中的ADC服務進行同步。

一般而言、所有網格節點都會維持至少一項ADC服務的連線。如此可確保網格節點永遠存取最新資訊。當網格節點連線時、它們會快取其他網格節點的憑證、即使無法使用某個ADC服務、系統仍能繼續使用已知的網格節點。新的網格節點只能使用ADC服務建立連線。

每個網格節點的連線可讓ADC服務收集拓撲資訊。此網格節點資訊包括CPU負載、可用磁碟空間（如果有儲存設備）、支援的服務、以及網格節點的站台ID。其他服務則透過拓撲查詢、要求ADC服務提供拓撲資訊。ADC服務會回應每個查詢、並提供StorageGRID 從該系統接收到的最新資訊。



== 什麼是DDS服務？

由儲存節點代管的分散式資料儲存區（DDS）服務會與Cassandra資料庫介面、以執行StorageGRID 物件中繼資料的背景工作、這些中繼資料儲存在整個過程中。



=== 物件數

DDS服務會追蹤擷取至StorageGRID 該系統的物件總數、以及透過每個系統支援的介面（S3或Swift）擷取的物件總數。

您可以在節點頁面>任何儲存節點的物件索引標籤上查看物件總數。

image::../media/dds_object_counts_queries.png[DDS總覽頁面]



=== 查詢

您可以識別透過特定DDS服務對中繼資料儲存區執行查詢所需的平均時間、成功查詢的總數、以及因逾時問題而失敗的查詢總數。

您可能想要檢閱查詢資訊、以監控中繼資料儲存區Cassandra的健全狀況、這會影響系統的擷取和擷取效能。例如、如果平均查詢的延遲緩慢、而且由於逾時而導致的失敗查詢數高、則中繼資料存放區可能會遇到較高的負載或執行其他作業。

您也可以檢視因為一致性失敗而失敗的查詢總數。一致性層級失敗是因為在透過特定DDS服務執行查詢時、可用的中繼資料存放區數量不足所致。

您可以使用「診斷」頁面來取得有關網格目前狀態的其他資訊。請參閱 link:../monitor/running-diagnostics.html["執行診斷"]。



=== 一致性保證與控管

可確保新建立物件的寫入後讀取一致性。StorageGRID成功完成PUT作業之後的任何Get作業都能讀取新寫入的資料。覆寫現有物件、更新中繼資料及刪除資料、最終仍維持一致。



== 什麼是LDR服務？

本機經銷路由器（LMR）服務由每個儲存節點代管、負責StorageGRID 處理針對此系統的內容傳輸。內容傳輸包含許多工作、包括資料儲存、路由傳送和要求處理。LDR 服務可處理資料傳輸負載和資料傳輸功能、以完成 StorageGRID 系統的大部分工作。

LDR服務負責下列工作：

* 查詢
* 資訊生命週期管理（ILM）活動
* 物件刪除
* 物件資料儲存
* 從另一個LDR服務（儲存節點）傳輸物件資料
* 資料儲存管理
* 傳輸協定介面（S3和Swift）


LdR服務也會管理S3和Swift物件對應至StorageGRID 唯一的「內容控點」（UUID）、以便將其指派給每個擷取的物件。



=== 查詢

在擷取和歸檔作業期間、LdR查詢包括物件位置查詢。您可以識別執行查詢所需的平均時間、成功查詢的總數、以及因逾時問題而失敗的查詢總數。

您可以檢閱查詢資訊、以監控中繼資料儲存區的健全狀況、這會影響系統的擷取和擷取效能。例如、如果平均查詢的延遲緩慢、而且由於逾時而導致的失敗查詢數高、則中繼資料存放區可能會遇到較高的負載或執行其他作業。

您也可以檢視因為一致性失敗而失敗的查詢總數。一致性層級失敗的原因是在透過特定的LDR服務執行查詢時、可用的中繼資料存放區數量不足。

您可以使用「診斷」頁面來取得有關網格目前狀態的其他資訊。請參閱 link:../monitor/running-diagnostics.html["執行診斷"]。



=== ILM活動

資訊生命週期管理（ILM）指標可讓您監控評估ILM實作物件的速度。您可以在儀表板或 * 節點 * > *_Storage Node_* > * ILM * 上檢視這些指標。



=== 物件存放區

LDR服務的基礎資料儲存區分為固定數量的物件存放區（也稱為儲存磁碟區）。每個物件存放區都是個別的掛載點。

您可以在節點頁面>儲存索引標籤上查看儲存節點的物件存放區。

image::../media/object_stores.png[物件存放區]

儲存節點中的物件會以介於0000到002F之間的十六進位數字來識別、這稱為Volume ID。空間會保留在第一個物件存放區（Volume 0）中、以供Cassandra資料庫中的物件中繼資料使用；該磁碟區上的任何剩餘空間都會用於物件資料。所有其他物件存放區僅用於物件資料、包括複寫複本和銷毀編碼的片段。

為了確保複寫複本的空間使用率、會根據可用的儲存空間、將特定物件的物件資料儲存至單一物件存放區。當一個或多個物件儲存空間達到容量時、其餘物件儲存區會繼續儲存物件、直到儲存節點上沒有更多空間為止。



=== 中繼資料保護

物件中繼資料是與物件相關的資訊或物件說明、例如物件修改時間或儲存位置。將物件中繼資料儲存在Cassandra資料庫中、該資料庫與LDR服務介面。StorageGRID

為了確保備援並保護資料免於遺失、每個站台都會保留三份物件中繼資料複本。此複寫無法設定、而且會自動執行。

link:managing-object-metadata-storage.html["管理物件中繼資料儲存"]
